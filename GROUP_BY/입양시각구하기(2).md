## ì…ì–‘ ì‹œê° êµ¬í•˜ê¸°(2)

ğŸ”’ [ë¬¸ì œ ë³´ê¸°](https://programmers.co.kr/learn/courses/30/lessons/59413)



ğŸ”‘ í’€ì´ ë‹µì•ˆ - Oracle

```SQL
WITH temporary AS ( SELECT LEVEL - 1 hour
                    FROM dual
                    CONNECT BY LEVEL <= 24
                  )
SELECT T.hour, NVL(A.count, 0) count
FROM temporary T LEFT OUTER JOIN ( SELECT TO_CHAR(datetime, 'HH24') hour, count(*) count
                                   FROM ANIMAL_OUTS
                                   GROUP BY TO_CHAR(datetime, 'HH24')
                                 ) A
ON T.HOUR = A.HOUR
ORDER BY T.HOUR
```

------


#### ğŸ’¡ WITH ì ˆ

- WITH ì ˆì€ Oracle 9i ë¦´ë¦¬ìŠ¤ 2 ì´ìƒì—ì„œë§Œ ì‘ë™í•œë‹¤.
- í•˜ìœ„ ì¿¼ë¦¬ë¥¼ ì—¬ëŸ¬ ë²ˆ ì‹¤í–‰í•´ì•¼ í•˜ëŠ” ê²½ìš° WITH ì ˆì´ ì‚¬ìš©ëœë‹¤.
- WITH ì ˆì„ ì‚¬ìš©í•˜ë©´ ì„œë¸Œ ì¿¼ë¦¬ ë¸”ë¡ì— ì´ë¦„ì„ ì§€ì •í•  ìˆ˜ ìˆê³ , ê¸°ë³¸ SELECT ë¬¸ì—ì„œ ì´ë¥¼ ë°˜ë³µì ìœ¼ë¡œ ì°¸ì¡° í•  ìˆ˜ ìˆë‹¤.


##### WITH ì ˆ êµ¬ë¬¸

```
WITH subquery_nam AS ( SELECT â€¦ )
	, another_subquery_name AS ( SELECT â€¦ )
SELECT â€¦ 
FROM subquery_name sq1, another_subquery_name sq2
WHERE sq1 â€¦ = sq2 â€¦
```

##### WITH ì ˆ ì‹¤í–‰ ê³¼ì •

1. with ì ˆ ë‚´ì˜ SQL ì¿¼ë¦¬ê°€ ì²« ë²ˆì§¸ ë‹¨ê³„ì—ì„œ ì‹¤í–‰ëœë‹¤.
2. SQL ì¿¼ë¦¬ì˜ ì¶œë ¥ì´ with ì ˆì˜ ì„ì‹œ ê´€ê³„ì— ì €ì¥ëœë‹¤.
3. Main ì¿¼ë¦¬ëŠ” ë§ˆì§€ë§‰ ë‹¨ê³„ì—ì„œ ìƒì„±ëœ ì„ì‹œ ê´€ê³„ë¡œ ì‹¤í–‰ëœë‹¤.


#### ğŸ’¡ LEVEL
- íŠ¸ë¦¬êµ¬ì¡°ì—ì„œ ê°ê°ì˜ ê³„ì¸µì„ ëœ»í•˜ë©° ì •ìˆ˜ ê°’ì´ë‹¤. ê³„ì¸µì  ì¿¼ë¦¬ê°€ ì•„ë‹Œ ê²½ìš° LELVELì€ 0ì„ ë‚˜íƒ€ë‚¸ë‹¤.
- íŠ¸ë¦¬êµ¬ì¡°ì—ì„œ ë£¨íŠ¸ëŠ” 1 ë ˆë²¨ì´ê³ , ë£¨íŠ¸ì˜ ìì‹ ë…¸ë“œë“¤ì€ ìˆœì°¨ì ìœ¼ë¡œ 2, 3, 4 â€¦ n ë ˆë²¨ì„ ê°–ëŠ”ë‹¤.
- LEVELë„ ì¼ë°˜ì ì¸ ì»¬ëŸ¼ì²˜ëŸ¼ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.
- Connect by ì ˆì€ ê³„ì¸µ êµ¬ì¡°ì˜ ìƒìœ„ í–‰ê³¼ í•˜ìœ„ í–‰ ê°„ì˜ ì—°ê²° ê´€ê³„ë¥¼ ì„¤ì •í•œë‹¤.
- Connect by ì ˆì— PRIOR ì¡°ê±´ì´ ì—†ìœ¼ë©´ ì˜¤ë¼í´ì€ ê°€ëŠ¥í•œ ëª¨ë“  ê³„ì¸µ ìˆœì—´ì„ ë°˜í™˜í•œë‹¤.
